# Vercel 배포 더블체크 체크리스트

## 📋 배포 전 최종 검증

### ✅ 파일 및 설정 확인

#### 1. 필수 파일 존재 확인
- [ ] `vercel.json` 파일 존재
- [ ] `app.py` 파일 존재
- [ ] `requirements.txt` 파일 존재
- [ ] `.gitignore`에 `.env`, `.vercel` 포함
- [ ] `templates/` 폴더 존재
- [ ] `static/` 폴더 존재

#### 2. vercel.json 검증
```json
{
  "version": 2,
  "builds": [
    {
      "src": "app.py",
      "use": "@vercel/python"
    }
  ],
  "routes": [
    {
      "src": "/static/(.*)",
      "dest": "/static/$1"
    },
    {
      "src": "/(.*)",
      "dest": "app.py"
    }
  ],
  "env": {
    "PYTHONUNBUFFERED": "1"
  }
}
```
- [ ] JSON 문법 오류 없음
- [ ] 경로 설정 정확
- [ ] static 라우팅 포함

#### 3. requirements.txt 확인
```
- [ ] flask==3.0.0
- [ ] flask-cors==4.0.0
- [ ] requests==2.31.0
- [ ] beautifulsoup4==4.12.2
- [ ] lxml==5.3.0
- [ ] openai>=1.50.0
- [ ] python-dotenv==1.0.0
```

#### 4. app.py 환경변수 로딩 확인
```python
# 이 부분이 있는지 확인
if os.path.exists('.env'):
    load_dotenv()
else:
    print("☁️ 배포 환경 - 시스템 환경변수 사용")
```
- [ ] 환경변수 로딩 로직 확인
- [ ] OPENAI_API_KEY 사용 확인

---

## 🚀 Vercel 설정 확인

### 5. Vercel 프로젝트 설정
- [ ] GitHub 저장소 연결됨
- [ ] Root Directory: `./` (기본값)
- [ ] Framework Preset: Other 또는 자동 감지
- [ ] Build Command: 비워두기 (자동)
- [ ] Output Directory: 비워두기 (자동)
- [ ] Install Command: `pip install -r requirements.txt` (자동)

### 6. 환경변수 설정 (중요! ⚠️)
- [ ] `OPENAI_API_KEY` 추가됨
- [ ] Production 환경 체크
- [ ] Preview 환경 체크 (선택)
- [ ] Development 환경 체크 (선택)
- [ ] 값이 `sk-proj-`로 시작하는지 확인

---

## 🔍 배포 후 기능 테스트

### 7. 메인 페이지 확인
- [ ] https://repost-xxxxx.vercel.app 접속 가능
- [ ] 페이지 로딩 속도 (<2초)
- [ ] CSS 스타일 정상 적용
- [ ] 그라데이션 배경 표시
- [ ] Repost 로고 표시
- [ ] 검색창 표시
- [ ] 3단 카드 표시
- [ ] 풋터 표시

### 8. 블로그 분석 기능
- [ ] URL 입력 가능
- [ ] 빈 URL 입력 시 에러 메시지
- [ ] 잘못된 URL 입력 시 검증 메시지
- [ ] 올바른 네이버 블로그 URL 입력
- [ ] "분석하기" 버튼 클릭
- [ ] 로딩 애니메이션 표시 (로봇, 이모지, 프로그레스바)
- [ ] 3단 카드 사라짐
- [ ] 블로그 제목 표시
- [ ] 블로그 내용 미리보기 표시
- [ ] 추천 댓글 8개 생성
- [ ] "블로그로 이동하여 댓글 달기" 버튼 표시

### 9. 댓글 복사 기능
- [ ] 각 댓글에 "복사" 버튼 존재
- [ ] "복사" 버튼 클릭
- [ ] "복사되었습니다!" 토스트 메시지
- [ ] 클립보드에 댓글 복사됨 (붙여넣기 테스트)

### 10. 블로그 이동 기능
- [ ] "블로그로 이동하여 댓글 달기" 버튼 클릭
- [ ] 새 탭에서 블로그 열림
- [ ] 모바일 인앱 브라우저 감지 (카카오톡 등)
- [ ] 모달 표시 (인앱 브라우저인 경우)

### 11. 약관 페이지
- [ ] 풋터 "이용약관" 링크 클릭
- [ ] /terms 페이지 정상 로딩
- [ ] 내용 표시 확인
- [ ] 시행일: 2025년 10월 10일 확인
- [ ] "메인으로 돌아가기" 버튼 작동

### 12. 개인정보처리방침 페이지
- [ ] 풋터 "개인정보처리방침" 링크 클릭
- [ ] /privacy 페이지 정상 로딩
- [ ] 내용 표시 확인
- [ ] 시행일: 2025년 10월 10일 확인
- [ ] "메인으로 돌아가기" 버튼 작동

---

## 📱 모바일 테스트

### 13. 반응형 디자인
- [ ] iPhone (Safari) 테스트
- [ ] Android (Chrome) 테스트
- [ ] 태블릿 테스트
- [ ] 가로 모드 테스트
- [ ] 검색창 placeholder 크기 적절
- [ ] 버튼 터치 영역 충분
- [ ] 3단 카드 1줄 표시 (모바일)
- [ ] 스크롤 부드러움

### 14. 모바일 특화 기능
- [ ] 카카오톡 인앱 브라우저 감지
- [ ] 네이버 앱으로 열기 버튼 작동
- [ ] Safari/Chrome으로 열기 작동
- [ ] URL 클립보드 복사 작동

---

## 🌐 도메인 연결 (repost.kr)

### 15. DNS 설정 확인
- [ ] Cafe24 DNS 관리 페이지 접속
- [ ] A 레코드: @ → 76.76.21.21
- [ ] CNAME 레코드: www → cname.vercel-dns.com
- [ ] DNS 전파 확인 (10-30분)
- [ ] `nslookup repost.kr` 명령어 확인

### 16. 도메인 접속 테스트
- [ ] https://repost.kr 접속 가능
- [ ] https://www.repost.kr 리다이렉트 (선택)
- [ ] HTTP → HTTPS 자동 리다이렉트
- [ ] SSL 인증서 (🔒) 확인
- [ ] 인증서 유효기간 확인

---

## 🔒 보안 검증

### 17. 환경변수 보안
- [ ] `.env` 파일이 GitHub에 없음
- [ ] OpenAI API 키가 코드에 하드코딩 안됨
- [ ] Vercel 대시보드에서만 환경변수 설정
- [ ] GitHub 커밋 히스토리에 API 키 없음

### 18. HTTPS 및 보안 헤더
- [ ] HTTPS 강제 적용
- [ ] SSL 인증서 유효
- [ ] CORS 설정 확인 (flask-cors)
- [ ] XSS 방어 (Flask 기본)
- [ ] CSRF 토큰 (필요 시)

---

## 📊 성능 검증

### 19. PageSpeed Insights
- [ ] https://pagespeed.web.dev 테스트
- [ ] Performance 점수: 90+ (목표)
- [ ] First Contentful Paint: <1.8초
- [ ] Largest Contentful Paint: <2.5초
- [ ] Total Blocking Time: <200ms
- [ ] Cumulative Layout Shift: <0.1

### 20. 응답 속도
- [ ] 메인 페이지 로딩: <1초
- [ ] 블로그 분석: <3초
- [ ] 댓글 생성: <2초
- [ ] Cold Start: <100ms (Vercel)

---

## 📈 모니터링 설정

### 21. Vercel Analytics
- [ ] Vercel 대시보드 → Analytics 탭
- [ ] "Enable Analytics" 클릭
- [ ] 실시간 트래픽 확인 가능
- [ ] 에러 추적 가능

### 22. 로그 확인
- [ ] Vercel 대시보드 → Deployments
- [ ] 최신 배포 클릭
- [ ] Runtime Logs 확인
- [ ] 에러 로그 없음 확인
- [ ] 환경변수 로딩 로그 확인

---

## 🎨 UI/UX 최종 검증

### 23. 디자인 요소
- [ ] 그라데이션 배경 (보라-청록-핑크)
- [ ] Repost 로고 그라데이션
- [ ] 하얀 투명 박스 (Glassmorphism)
- [ ] 검색창 둥근 테두리 (50px)
- [ ] 버튼 그라데이션 (보라)
- [ ] 3단 카드 아이콘 표시
- [ ] 풋터 그라데이션 로고
- [ ] 로딩 애니메이션 (로봇, 이모지)

### 24. Open Graph & Meta Tags
- [ ] 링크 공유 시 썸네일 표시
- [ ] 카카오톡 공유 테스트
- [ ] 페이스북 공유 테스트
- [ ] 트위터 카드 표시
- [ ] 제목: "Repost - 블로그 댓글 자동 추천"
- [ ] 설명 메타 태그 확인

---

## 🚨 에러 시나리오 테스트

### 25. 에러 핸들링
- [ ] 잘못된 URL 입력 → 명확한 에러 메시지
- [ ] 네트워크 오류 → 사용자 친화적 메시지
- [ ] API 키 없음 → 템플릿 댓글 사용
- [ ] 스크래핑 실패 → 적절한 에러 처리
- [ ] 타임아웃 → 로딩 중단 및 메시지

### 26. 엣지 케이스
- [ ] 매우 긴 블로그 제목 → 줄바꿈 처리
- [ ] 매우 긴 댓글 → 스크롤 또는 줄바꿈
- [ ] 이미지 없는 블로그 → 정상 처리
- [ ] 모바일 블로그 URL → 자동 변환
- [ ] 특수문자 포함 URL → 인코딩 처리

---

## 📱 크로스 브라우저 테스트

### 27. 데스크톱 브라우저
- [ ] Chrome (최신)
- [ ] Safari (최신)
- [ ] Firefox (최신)
- [ ] Edge (최신)

### 28. 모바일 브라우저
- [ ] iPhone Safari
- [ ] Android Chrome
- [ ] Samsung Internet
- [ ] 카카오톡 인앱 브라우저
- [ ] 네이버 앱 브라우저

---

## 🔄 자동 배포 확인

### 29. Git Push → 자동 배포
- [ ] 코드 수정 (작은 변경)
- [ ] `git add .`
- [ ] `git commit -m "test"`
- [ ] `git push`
- [ ] Vercel 자동 빌드 시작 확인
- [ ] 배포 완료 알림 확인
- [ ] 변경사항 반영 확인

---

## ✅ 최종 승인 체크리스트

### 30. 모든 기능 정상 작동
- [ ] 메인 페이지 ✅
- [ ] 블로그 분석 ✅
- [ ] 댓글 생성 ✅
- [ ] 댓글 복사 ✅
- [ ] 블로그 이동 ✅
- [ ] 이용약관 ✅
- [ ] 개인정보처리방침 ✅
- [ ] 모바일 반응형 ✅
- [ ] SSL 인증서 ✅
- [ ] 도메인 연결 ✅

### 31. 성능 기준 충족
- [ ] PageSpeed 점수 90+ ✅
- [ ] 로딩 속도 <2초 ✅
- [ ] Cold Start <100ms ✅

### 32. 보안 기준 충족
- [ ] HTTPS 적용 ✅
- [ ] 환경변수 안전 ✅
- [ ] API 키 노출 없음 ✅

---

## 🎉 배포 완료 승인

### 최종 서명
```
배포 담당자: _________________
배포 일시: 2025년 10월 29일
배포 환경: Vercel Production
도메인: https://repost.kr

✅ 모든 체크리스트 항목 확인 완료
✅ 사용자에게 서비스 제공 승인

서명: ______________ 날짜: ______________
```

---

## 📞 배포 후 모니터링 체크리스트

### 첫 24시간
- [ ] 1시간 후: 에러 로그 확인
- [ ] 6시간 후: 트래픽 확인
- [ ] 12시간 후: 성능 지표 확인
- [ ] 24시간 후: 사용자 피드백 확인

### 첫 1주일
- [ ] 매일: Vercel Analytics 확인
- [ ] 매일: 에러율 확인 (<1%)
- [ ] 주말: 사용자 리뷰 수집

---

## 🚨 긴급 대응 계획

### 심각한 오류 발생 시
```
1. Vercel 대시보드 접속
2. Deployments 탭
3. 이전 안정 버전 선택
4. "Promote to Production" 클릭
→ 즉시 롤백 (30초 이내)
```

### 연락처
```
Vercel 지원: https://vercel.com/support
OpenAI 지원: https://help.openai.com
```

---

**모든 체크리스트를 통과하면 프로덕션 배포 완료입니다! 🎉**

