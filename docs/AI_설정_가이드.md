# 🤖 AI 댓글 생성 설정 가이드

리포스트에 AI 기능을 추가하여 더욱 자연스럽고 구체적인 댓글을 생성할 수 있습니다!

## ✨ AI 기능이란?

- **기존**: 키워드 기반 템플릿 댓글
- **AI 추가 후**: 블로그 내용을 실제로 분석하여 구체적인 댓글 생성

### 예시:

#### 블로그 내용:
> "서울 강남 블루베리 카페에서 아메리카노 5,500원에 마셨어요. 창가 자리가 정말 예뻤고, 케이크도 맛있었습니다."

#### AI 생성 댓글:
- "5,500원에 이 분위기면 가성비 좋네요! 창가 자리 꼭 앉아보고 싶어요! ☕"
- "케이크까지 맛있다니 완벽한 카페네요! 주말에 방문 계획 중입니다 😊"
- "블로그 보니까 사진도 예쁘고 가격도 합리적이네요! 강남 갈 때 꼭 들러야겠어요"

## 🔑 OpenAI API 키 발급받기

### 1단계: OpenAI 가입

1. https://platform.openai.com 접속
2. **Sign up** 클릭하여 회원가입
3. 이메일 인증 완료

### 2단계: API 키 생성

1. https://platform.openai.com/api-keys 접속
2. **+ Create new secret key** 클릭
3. 이름 입력 (예: "리포스트")
4. **Create secret key** 클릭
5. 생성된 키 복사 (⚠️ 한 번만 보여줍니다!)
   - 형식: `sk-proj-xxxxxxxxxxxxxxxxxx`

### 3단계: 결제 정보 등록

1. https://platform.openai.com/account/billing/overview 접속
2. **Add payment method** 클릭
3. 신용카드 정보 입력
4. 초기 크레딧: $5 (약 6,500원)

⚠️ **중요**: API 사용량에 따라 요금이 청구됩니다!

## 💰 비용 안내

### GPT-3.5-turbo 기준:
- **입력**: $0.0015 / 1K tokens
- **출력**: $0.002 / 1K tokens

### 예상 비용:
- 댓글 1회 생성: 약 $0.002 (약 2.6원)
- 100번 사용: 약 $0.20 (약 260원)
- 1,000번 사용: 약 $2.00 (약 2,600원)

💡 **초기 $5 크레딧으로 약 2,500번 사용 가능!**

## ⚙️ 설정 방법

### 로컬 개발 환경:

1. `.env` 파일 열기 (프로젝트 폴더에 있음)

2. API 키 입력:
```env
OPENAI_API_KEY=sk-proj-여기에실제키입력
```

3. 저장 후 서버 재시작:
```bash
# 기존 서버 종료 (Ctrl+C)
python3 app.py
```

### Render.com 배포 시:

1. Render 대시보드 접속
2. 배포한 서비스 클릭
3. **Environment** 탭 클릭
4. **Add Environment Variable** 클릭
5. 입력:
   - **Key**: `OPENAI_API_KEY`
   - **Value**: `sk-proj-여기에실제키입력`
6. **Save Changes** 클릭
7. 자동으로 재배포됨

## 🔄 작동 방식

### AI 사용 (API 키 설정된 경우):
1. 블로그 URL 입력
2. 블로그 내용 스크래핑
3. **OpenAI GPT-3.5가 블로그 분석**
4. 구체적이고 자연스러운 댓글 8개 생성

### Fallback (API 키 없거나 오류 시):
1. 기존 키워드 기반 로직 사용
2. 템플릿 댓글 제공
3. 여전히 작동은 함!

## 🎯 테스트 방법

### API 키가 제대로 설정되었는지 확인:

1. 서버 실행 시 에러 메시지 확인
2. 블로그 URL 분석
3. 댓글이 구체적이고 자연스러우면 ✅
4. 댓글이 템플릿 느낌이면 ❌ (API 키 확인)

### 서버 로그 확인:
```bash
# AI 성공
"AI 댓글 생성 성공"

# AI 실패 (Fallback 사용)
"AI 댓글 생성 실패: ..."
```

## ⚠️ 주의사항

### 보안:
- ✅ `.env` 파일은 절대 GitHub에 올리지 마세요!
- ✅ `.gitignore`에 `.env` 포함되어 있음 (안전)
- ❌ API 키를 다른 사람과 공유하지 마세요

### 비용 관리:
- 매달 사용량 모니터링: https://platform.openai.com/usage
- 사용량 제한 설정 가능
- 크레딧 소진 시 자동으로 Fallback 로직 사용

### 성능:
- AI 댓글 생성: 2-5초 소요
- 기본 댓글: 즉시 생성
- 네트워크 상태에 따라 다를 수 있음

## 🚀 업그레이드 옵션

### GPT-4로 업그레이드하면:
- 더 자연스럽고 창의적인 댓글
- 더 정확한 내용 분석
- 비용: 약 10배 더 비쌈 ($0.03 / 1K tokens)

코드에서 수정:
```python
model="gpt-4"  # 기존 gpt-3.5-turbo 대신
```

## 📞 문제 해결

### "AI 댓글 생성 실패" 에러:
1. API 키가 올바른지 확인
2. 결제 정보가 등록되었는지 확인
3. 크레딧이 남아있는지 확인
4. Fallback으로 기본 댓글 제공됨

### 느린 응답:
- OpenAI API 호출 시간 (정상)
- 2-5초 대기는 정상적

### 비용 초과 우려:
- Usage limit 설정: https://platform.openai.com/account/limits
- 월 예산 설정 가능

---

**축하합니다! 🎉**

이제 리포스트가 진짜 블로그를 읽고 이해하는 똑똑한 AI 댓글 봇이 되었습니다!

